<!DOCTYPE html>
<html>
<head lang="en">
    <meta charset="UTF-8">
    <title></title>
    <script src="http://code.jquery.com/jquery-2.1.1.min.js"></script>
    <script lang="text/javascript">

        var einzelnd = jQuery.noConflict();

        var page = [];
        page[0] = '<!DOCTYPE html><html>' +
        '<head lang="en"><meta charset="UTF-8"><title></title>' +
        '</head>' +
        '<body>' +
        '<p>Page 1</p>' +
        '<p>Blah Blah</p>' +
        '<p><a href="#" onclick="openPage(page[1])">Link</a></p>' +
        '</body>' +
        '</html>';
        page[1] = '<!DOCTYPE html><html>' +
        '<head lang="en"><meta charset="UTF-8"><title></title></head>' +
        '<body>' +
        '<p>Page 2</p>' +
        '</body>' +
        '</html>';

        function openPageOLD(page) {
            console.log("Opening page %s", page);
            einzelnd('#einzelndDiv').attr('src', 'data:text/html;charset=utf-8;base64,' + window.btoa(unescape(encodeURIComponent( page ))));
        }

        function openPage(page) {
            console.log("Opening page %s", page);
            einzelnd('#einzelndDiv').html(page);
        }

        einzelnd(document).ready(function () {

            //var iframePage = buildDataUri(page[0]);
            console.log("Switching to " + page[0]);
            openPage(page[0]);
            //einzelnd('#einzelndDiv').html(iframePage);

            //$('#einzelndFrame').attr('src', 'http://www.google.com');

        });

    </script>
</head>
<body>
<div id="einzelndDiv"></div>
</body>
</html>
